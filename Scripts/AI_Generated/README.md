# AI_Generated - Dhatu ID Management Solutions

This folder contains AI-generated scripts, tests, and documentation for handling two types of dhatu_id issues in the AkhyataChandrika project:

1. **Multiple Dhatu IDs**: Verbs that have more than one dhatu_id (330 cases)
2. **Not Found Dhatu IDs**: Verbs that have no dhatu_id assigned (595 cases)

## ğŸ“ Folder Structure

```
AI_Generated/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ collectors/          # Scripts to identify problematic entries
â”‚   â”‚   â”œâ”€â”€ collectMultipleDhatuIds.py
â”‚   â”‚   â”œâ”€â”€ collectNotFoundDhatuIds.py
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ backport/            # Scripts to apply changes back to Data/
â”‚   â”‚   â”œâ”€â”€ backportMultipleDhatuIds.py
â”‚   â”‚   â”œâ”€â”€ backportNotFoundDhatuIds.py
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ proofreading/        # Scripts for distributed proofreading workflow
â”‚   â”‚   â”œâ”€â”€ splitYamlForProofreading.py
â”‚   â”‚   â”œâ”€â”€ addReviewFields.py
â”‚   â”‚   â”œâ”€â”€ removeResolvedEntries.py
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â””â”€â”€ verification/        # Scripts to verify data integrity
â”‚       â”œâ”€â”€ verifySplitIntegrity.py
â”‚       â”œâ”€â”€ verifyResolvedDeletionAndBackport.py
â”‚       â”œâ”€â”€ addEntryCountsToHeaders.py
â”‚       â””â”€â”€ README.md
â”œâ”€â”€ tests/                   # Automated test suites
â”‚   â”œâ”€â”€ testBackportIntegrity.py
â”‚   â”œâ”€â”€ testCompleteBackportWorkflow.py
â”‚   â”œâ”€â”€ testReviewWorkflow.py
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ output/                  # Generated YAML files (for manual editing)
â”‚   â”œâ”€â”€ multiple_dhatu_ids_without_gati.yaml
â”‚   â”œâ”€â”€ multiple_dhatu_ids_with_gati.yaml
â”‚   â”œâ”€â”€ not_found_dhatu_ids_without_gati.yaml
â”‚   â””â”€â”€ not_found_dhatu_ids_with_gati.yaml
â””â”€â”€ docs/                    # Complete documentation
    â”œâ”€â”€ AI_Doc.md
    â”œâ”€â”€ README_MultipleDhatuIds.md
    â”œâ”€â”€ README_NotFoundDhatuIds.md
    â”œâ”€â”€ QUICKSTART.md
    â”œâ”€â”€ QUICKSTART_NotFound.md
    â”œâ”€â”€ SUMMARY.md
    â””â”€â”€ TEST_RESULTS.md
```

## ğŸš€ Quick Start

### Workflow A: Multiple Dhatu IDs (330 cases)

For verbs that have more than one dhatu_id.

#### Step 1: Collect Verbs with Multiple Dhatu IDs

From the **project root** directory:

```bash
python3 Scripts/AI_Generated/scripts/collectors/collectMultipleDhatuIds.py \
    Scripts/output/AkhyataChandrika_Autogenerated.json \
    Scripts/AI_Generated/output
```

This creates two files in `Scripts/AI_Generated/output/`:
- `multiple_dhatu_ids_without_gati.yaml` (159 entries)
- `multiple_dhatu_ids_with_gati.yaml` (126 entries)

#### Step 2: Manually Edit the YAML Files

Open both YAML files and correct the `dhatu_ids` field:

**Before:**
```yaml
"à¤«à¤²à¤¤à¤¿":
  "dhatu_ids": "01.0594, 01.0608"    # Multiple IDs
```

**After:**
```yaml
"à¤«à¤²à¤¤à¤¿":
  "dhatu_ids": "01.0594"              # Single correct ID
```

#### Step 3: Backport Changes to Original YAML Files

```bash
python3 Scripts/AI_Generated/scripts/backport/backportMultipleDhatuIds.py \
    Scripts/AI_Generated/output \
    Data
```

This automatically processes both files and updates the original YAML files in the `Data/` folder.

---

### Workflow B: Not Found Dhatu IDs (595 cases)

For verbs where dhatu_id is "Not Found" and needs to be assigned.

#### Step 1: Collect Verbs with "Not Found" Dhatu IDs

```bash
python3 Scripts/AI_Generated/scripts/collectors/collectNotFoundDhatuIds.py \
    Scripts/output/AkhyataChandrika_Autogenerated.json \
    Scripts/AI_Generated/output
```

This creates:
- `not_found_dhatu_ids_without_gati.yaml` (595 entries)
- `not_found_dhatu_ids_with_gati.yaml` (0 entries)

#### Step 2: Manually Assign Dhatu IDs

Open `not_found_dhatu_ids_without_gati.yaml` and replace "Not Found" with actual dhatu_ids:

**Before:**
```yaml
"à¤¸à¤¿à¤¦à¥à¤§à¥à¤¯à¤¤à¤¿":
  "dhatu_id": "Not Found"    # Needs assignment
```

**After:**
```yaml
"à¤¸à¤¿à¤¦à¥à¤§à¥à¤¯à¤¤à¤¿":
  "dhatu_id": "04.0087"       # Assigned correct ID
```

**Tip**: Edit 10-20 entries at a time, then backport incrementally.

#### Step 3: Backport Assignments to Original YAML Files

```bash
python3 Scripts/AI_Generated/scripts/backport/backportNotFoundDhatuIds.py \
    Scripts/AI_Generated/output \
    Data
```

The script will:
- Update entries where you assigned dhatu_ids
- Skip entries still marked as "Not Found"
- Report statistics

---

### Workflow C: Distributed Proofreading

For large-scale corrections involving multiple proofreaders.

#### Step 1: Split Large Files

```bash
python3 Scripts/AI_Generated/scripts/proofreading/splitYamlForProofreading.py
```

Splits YAML files into 10 manageable parts.

#### Step 2: Add Review Fields

```bash
python3 Scripts/AI_Generated/scripts/proofreading/addReviewFields.py
```

Adds `resolved` and `comment` fields to track proofreading progress.

#### Step 3: Distribute and Proofread

Distribute `part_*.yaml` files to proofreaders. They mark entries as `resolved: true` when corrected.

#### Step 4: Remove Resolved Entries

```bash
python3 Scripts/AI_Generated/scripts/proofreading/removeResolvedEntries.py
```

Removes completed entries, leaving only unresolved ones.

## ğŸ“‚ Script Categories

### ğŸ” Collectors (`scripts/collectors/`)
Scripts that scan the JSON file and identify problematic entries, creating YAML files for manual correction.

[â†’ Read more](scripts/collectors/README.md)

### â†©ï¸ Backport (`scripts/backport/`)
Scripts that apply manually corrected YAML changes back to the original Data/ folder YAML files.

[â†’ Read more](scripts/backport/README.md)

### âœï¸ Proofreading (`scripts/proofreading/`)
Scripts that support distributed proofreading by splitting files and managing review fields.

[â†’ Read more](scripts/proofreading/README.md)

### âœ… Verification (`scripts/verification/`)
Scripts that verify data integrity and validate workflow operations.

[â†’ Read more](scripts/verification/README.md)

### ğŸ§ª Tests (`tests/`)
Automated test suites that ensure all workflows function correctly.

[â†’ Read more](tests/README.md)

## ğŸ“š Documentation

### Multiple Dhatu IDs Workflow
- **[QUICKSTART.md](docs/QUICKSTART.md)** - Quick reference for multiple IDs
- **[README_MultipleDhatuIds.md](docs/README_MultipleDhatuIds.md)** - Complete workflow guide
- **[TEST_RESULTS.md](docs/TEST_RESULTS.md)** - Test verification (âœ… ALL TESTS PASSED)

### Not Found Dhatu IDs Workflow
- **[QUICKSTART_NotFound.md](docs/QUICKSTART_NotFound.md)** - Quick reference for "Not Found"
- **[README_NotFoundDhatuIds.md](docs/README_NotFoundDhatuIds.md)** - Complete workflow guide

### General
- **[SUMMARY.md](docs/SUMMARY.md)** - Technical overview and benefits
- **[AI_Doc.md](docs/AI_Doc.md)** - Original requirements and implementation notes

## ğŸ§ª Testing

Run the comprehensive test suite:

```bash
python3 Scripts/AI_Generated/tests/test_backport_functionality.py
```

**Status**: âœ… ALL TESTS PASSED (100% success rate)

## ğŸ“Š Statistics

### Multiple Dhatu IDs
- **Total verbs found**: 330 occurrences with multiple dhatu_ids
  - Without gati: 159 cases (simpler to review)
  - With gati: 126 cases (need careful attention)

### Not Found Dhatu IDs
- **Total verbs found**: 607 occurrences with "Not Found" dhatu_id
  - Unique verbs: 595
  - Without gati: 595 cases
  - With gati: 0 cases

### General
- **Files excluded**: `Data/3_à¤¨à¤¾à¤¨à¤¾à¤°à¥à¤¥à¤µà¤°à¥à¤—à¤ƒ` (as requested)
- **Test success rate**: 100% (for multiple IDs workflow)

## âœ¨ Key Features

1. **Organized Structure** - Scripts grouped by functionality for easy navigation
2. **Two Separate Files** - Without/with gati separation for easier management
3. **Smart Backport** - Can process single file or entire directory
4. **Distributed Proofreading** - Split large tasks among multiple reviewers
5. **Fully Tested** - 100% test coverage with automated verification
6. **Safe Operations** - Preserves YAML structure and formatting
7. **Comprehensive Docs** - README in each folder + detailed guides

## âš ï¸ Important Notes

- Always run scripts from the **project root** directory
- The `à¤¨à¤¾à¤¨à¤¾à¤°à¥à¤¥à¤µà¤°à¥à¤—à¤ƒ` folder is automatically excluded from all operations
- Backport functionality has been thoroughly tested and verified
- Original YAML structure and formatting are preserved

## ğŸ”„ Complete Workflow

1. **Generate JSON** (if not already done)
2. **Collect** verbs with multiple dhatu_ids â†’ Creates 2 YAML files
3. **Edit** YAML files manually â†’ Choose correct dhatu_id for each verb
4. **Backport** changes â†’ Updates original YAML files in Data/
5. **Regenerate JSON** â†’ Verify no "(More than one)" entries remain

## ğŸ’¡ Tips

- Start with smaller files (with_gati versions have fewer entries)
- Process files incrementally to avoid overwhelming changes
- Use the test scripts to verify functionality before manual editing
- Consider distributed proofreading for large correction batches
- Run verification scripts after major operations
- Use version control (git) to track changes

## ğŸ†˜ Help

Each subfolder has its own README with detailed information:
- [Collectors README](scripts/collectors/README.md)
- [Backport README](scripts/backport/README.md)
- [Proofreading README](scripts/proofreading/README.md)
- [Verification README](scripts/verification/README.md)
- [Tests README](tests/README.md)

For overall workflow guidance:
1. [QUICKSTART.md](docs/QUICKSTART.md) for immediate reference
2. [README_MultipleDhatuIds.md](docs/README_MultipleDhatuIds.md) for detailed instructions
3. [TEST_RESULTS.md](docs/TEST_RESULTS.md) for verification results

---

**Created**: 2025-10-17
**Status**: âœ… Production Ready
**Test Status**: âœ… ALL TESTS PASSED
**Organization**: âœ… Reorganized for clarity and maintainability
